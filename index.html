<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <!-- 1. Ø¥ØµÙ„Ø§Ø­ Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„: Ø§Ù„Ø³Ø·Ø± Ø¯Ù‡ Ø¨ÙŠØ®Ù„ÙŠ Ø§Ù„ØµÙØ­Ø© ØªÙ…Ù„Ø£ Ø´Ø§Ø´Ø© Ø§Ù„ØªÙ„ÙŠÙÙˆÙ† -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Yalla Scooter Login</title>
    <style>
        body { background: #0b1120; color: white; height: 100vh; margin: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        .loading-screen { text-align: center; width: 90%; max-width: 400px; }
        
        /* ØªÙ†Ø³ÙŠÙ‚ Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ù„ØªÙƒÙˆÙ† Ù…Ø±ÙŠØ­Ø© Ù„Ù„Ù…Ø³ */
        input { width: 100%; padding: 15px; margin-top: 15px; border-radius: 10px; border: none; font-size: 18px; text-align: center; outline: none; }
        button { width: 100%; padding: 15px; background: #00f2ff; color: #000; border: none; border-radius: 10px; margin-top: 15px; cursor: pointer; font-weight: bold; font-size: 18px; transition: 0.2s; }
        button:active { transform: scale(0.98); }
        
        #error-msg { color: #ff4b2b; margin-top: 10px; font-size: 14px; min-height: 20px; }

        /* ÙƒÙ„Ø§Ø³ Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± */
        .hidden { display: none !important; }

        /* ØªØµÙ…ÙŠÙ… Ø´Ø§Ø´Ø© Ø§Ù„Ø³ÙŠØ³ØªÙ… (Ø§Ù„Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯) */
        #main-system { width: 100%; height: 100%; text-align: center; padding-top: 50px; }
    </style>
</head>
<body>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div id="login-box" class="loading-screen">
        <h2>ğŸ” Ù†Ø¸Ø§Ù… Ø£Ù…Ø§Ù† ÙŠÙ„Ø§ Ø³ÙƒÙˆØªØ±</h2>
        <p style="color:#888; font-size:12px">Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø·ÙˆØ§Ø±Ø¦ Ù„Ù„Ø¯Ø®ÙˆÙ„</p>
        
        <div id="error-msg"></div>
        
        <!-- Ø¶ÙØªÙ„Ùƒ (event) Ø¹Ø´Ø§Ù† Ù„Ùˆ Ø¯ÙˆØ³Øª Ø§Ù†ØªØ± ÙŠØ¯Ø®Ù„ Ø¹Ù„Ø·ÙˆÙ„ -->
        <input type="tel" id="fallback-pass" placeholder="****" maxlength="4" onkeypress="handleEnter(event)">
        <button onclick="checkLogin()">Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù†Ø¸Ø§Ù…</button>
    </div>

    <!-- 2. Ø´Ø§Ø´Ø© Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ (Ù…Ø®ÙÙŠØ© ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©) -->
    <div id="main-system" class="hidden">
        <h1 style="color: #00f2ff;">âœ… ØªÙ… Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­</h1>
        <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ ÙˆØ­Ø¯Ø§Øª Ø§Ù„ØªØ­ÙƒÙ…...</p>
        <!-- Ù‡Ù†Ø§ Ø¨ØªØ­Ø· ÙƒÙˆØ¯ Ø§Ù„ÙØ§ÙŠØ±Ø¨ÙŠØ³ ÙˆØ§Ù„Ø¨Ù„ÙˆØªÙˆØ« Ø¨ØªØ§Ø¹Ùƒ -->
    </div>

    <script>
        function checkLogin() {
            const passInput = document.getElementById('fallback-pass');
            const p = passInput.value;
            const errorDiv = document.getElementById('error-msg');

            // Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ Ø¨Ù‡Ø§
            if(p === "9924" || p === "1213") {
                errorDiv.innerText = ""; // Ù…Ø³Ø­ Ø£ÙŠ Ø®Ø·Ø£ Ø³Ø§Ø¨Ù‚
                
                // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù…
                document.getElementById('login-box').classList.add('hidden');
                document.getElementById('main-system').classList.remove('hidden');

                // Ù‡Ù†Ø§ Ù…Ù…ÙƒÙ† ØªØ³ØªØ¯Ø¹ÙŠ Ø¯Ø§Ù„Ø© connectToScooter() Ù„Ùˆ Ø§Ù„ÙƒÙˆØ¯ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ù…Ù„Ù ØªØ§Ù†ÙŠ
                
            } else {
                errorDiv.innerText = "âŒ Ø§Ù„ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰";
                passInput.value = ""; // ÙØ¶ÙŠ Ø§Ù„Ø®Ø§Ù†Ø©
                passInput.focus(); // Ø±Ø¬Ø¹ Ø§Ù„Ù…Ø¤Ø´Ø± Ù„Ù„ÙƒØªØ§Ø¨Ø©
            }
        }

        // 3. Ø¯Ø§Ù„Ø© Ø¹Ø´Ø§Ù† Ø²Ø±Ø§Ø± Ø§Ù„Ù€ Enter ÙŠØ´ØªØºÙ„
        function handleEnter(e) {
            if(e.key === 'Enter') checkLogin();
        }

        window.onerror = function(msg) {
            document.getElementById('error-msg').innerText = "âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…: " + msg;
        };
    </script>
</body>
</html>
